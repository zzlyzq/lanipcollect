# LAN IP Address Collector

This project is a LAN IP address collector written in Go. It captures ARP packets in the network to collect IP and MAC address mappings, including the vendor information of MAC addresses. The collected data is saved in JSON and XLSX formats, with the ability to sort IP addresses and MAC addresses based on specified rules.

## Features

- Capture ARP packets to collect IP and MAC address mappings.
- Identify the vendor of MAC addresses using an OUI file.
- Save the collected data in JSON and XLSX formats.
- Sort IP addresses based on the last 8 bits.
- Sort MAC addresses based on the last 8 bits of their first IP address.

## Requirements

- Go 1.16 or higher
- libpcap development library
- An OUI file (`oui.txt`) with MAC address vendor information

## Installation

1. Install Go: [Go Installation Guide](https://golang.org/doc/install)
2. Install libpcap development library:
    - For Debian/Ubuntu: `sudo apt-get install libpcap-dev`
    - For macOS: `brew install libpcap`
3. Clone the repository:
    ```sh
    git clone https://github.com/yourusername/lan-ip-collector.git
    cd lan-ip-collector
    ```
4. Place the `oui.txt` file in the project directory. You can download the OUI file from [here](http://standards-oui.ieee.org/oui.txt).

## Usage

1. Build the project for your platform:
    ```sh
    go build -o lan_ip_collector main.go
    ```
2. Run the program:
    ```sh
    sudo ./lan_ip_collector
    ```
    > **Note:** Running the program requires root privileges to capture packets.

## Cross-Compilation

To compile the project for multiple platforms, use the provided build script:

```bash
#!/bin/bash

export GOROOT=/usr/local/go
export GOPATH=/opt/go/
export PATH=$PATH:$GOROOT/bin:$GOPATH/bin

# Define target OS and architectures
targets=(
  "darwin/amd64"
  "darwin/arm64"
  "linux/386"
  "linux/amd64"
  "linux/arm"
  "linux/arm64"
  "windows/386"
  "windows/amd64"
)

# Get Go file name
go_file=$(ls *.go)
binary_name="${go_file%.*}"

# Build target files
for target in "${targets[@]}"; do
  os_name=${target%/*}
  arch_name=${target#*/}

  output_name="${binary_name}_${os_name}_${arch_name}"
  if [ "$os_name" == "windows" ]; then
    output_name="${output_name}.exe"
  fi

  # Set environment variables and disable CGO
  if [ "$os_name" == "linux" ]; then
    CGO_ENABLED=1 CC=gcc env GOOS=$os_name GOARCH=$arch_name go build -v -o $output_name $go_file
  else
    CGO_ENABLED=0 env GOOS=$os_name GOARCH=$arch_name go build -v -o $output_name $go_file
  fi

  if [ $? -eq 0 ]; then
    echo "Successfully built $output_name"
  else
    echo "Failed to build $output_name"
  fi
done
Save the script as build_all.sh and run it:
```

```
chmod +x build_all.sh
./build_all.sh
JSON and XLSX Output
The program generates two output files:
```

lanipcollect.json: Contains the collected IP and MAC address mappings with vendor information in JSON format.
lanipcollect.xlsx: Contains the same data sorted and formatted in an Excel file.
Sorting Rules
If a MAC address has multiple IP addresses, they are sorted by the last 8 bits of the IP address.
All MAC addresses are sorted based on the last 8 bits of their first IP address.
Contributing
Contributions are welcome! Please open an issue or submit a pull request for any bug fixes or enhancements.

License
This project is licensed under the MIT License. See the LICENSE file for details.


### Summary

This README provides a comprehensive overview of the LAN IP Address Collector project. It includes the following key sections:

1. **Features**: Highlights the main functionalities of the project, such as capturing ARP packets, identifying MAC address vendors, and saving data in JSON and XLSX formats with sorting capabilities.
2. **Requirements**: Lists the necessary tools and libraries required to run the project, including Go, libpcap, and an OUI file.
3. **Installation**: Provides step-by-step instructions on how to install Go and libpcap, clone the repository, and place the OUI file in the project directory.
4. **Usage**: Explains how to build and run the project, emphasizing the need for root privileges to capture packets.
5. **Cross-Compilation**: Includes a script to compile the project for multiple platforms and instructions on how to run the script.
6. **JSON and XLSX Output**: Describes the output files generated by the program, including the data format and sorting rules applied to the collected IP and MAC address mappings.
7. **Sorting Rules**: Details the criteria used to sort IP addresses and MAC addresses in the output files.
8. **Contributing**: Encourages contributions and provides guidance on how to report issues or submit pull requests.
9. **License**: Specifies the licensing terms under the MIT License and links to the LICENSE file for more details.
